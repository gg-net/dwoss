<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">
        <h:head>
            <title>Mandator - #{mandatorController.mandator.company.name}</title>
            <style>
                table, th, td {
                    border: 1px solid black;
                    border-collapse: collapse;
                }
            </style>
        </h:head>

        <h:body>
            <h:form>
                <h1>Mandator - #{mandatorController.mandator.company.name}</h1>
                <h:outputText escape="false" value="#{mandatorController.mandator.toHtml()}" />
                <!--EXTRA INFO-->

                <h2>Additional MandatorInfo </h2>

                <p:panelGrid>

                    <p:row>
                        <p:column style="width: 50%">
                            <p:dataList value="#{mandatorController.getAllowedBrands()}" var="contractor" emptyMessage="No allowed Brands found" >
                                <f:facet name="header">
                                    Allowed Brands
                                </f:facet>
                                #{contractor.getName()}
                            </p:dataList>

                        </p:column>
                        <p:column >
                            <p:dataList value="#{mandatorController.getAllContractors()}" var="contractor" emptyMessage="No contractors found" >
                                <f:facet name="header">
                                    All our Contractors
                                </f:facet>
                                #{contractor.getName()}
                            </p:dataList>
                        </p:column>



                    </p:row>
                    <p:row >
                        <p:column>
                            <h3>     Post Ledger </h3>
                            <p:tree value="#{mandatorController.root}" var="node" >

                                <p:treeNode >
                                    <h:outputText value="#{node}" />
                                </p:treeNode>
                            </p:tree>
                        </p:column>
                        <p:column >
                            <p:dataTable value="#{mandatorController.getShippingConditions()}" var="shippingCondition"  sortBy="#{shippingCondition.priceOfOne}" sortOrder="ascending">
                                <f:facet name="header">
                                    Shipping Terms
                                </f:facet>
                                <p:column headerText="Note">
                                    <h:outputText value="#{shippingCondition.name}"/>
                                </p:column>

                                <p:column headerText="Price of One">
                                    <h:outputText value="#{shippingCondition.priceOfOne}"/>
                                </p:column>

                                <p:column headerText="Multiplicator">
                                    <h:outputText value="#{shippingCondition.multiplicator}"/>
                                </p:column>
                            </p:dataTable>
                        </p:column>


                    </p:row>

                    <p:row>


                        <p:column >
                            <p:dataTable value="#{mandatorController.specialSystemCustomers}" var="specialSystemCustomer" >
                                <f:facet name="header"> Special System Customers </f:facet>
                                <p:column headerText="Customer ID" >
                                    <h:outputText value="#{specialSystemCustomer.key}"/>
                                </p:column>
                                <p:column headerText="DocumentType">
                                    <h:outputText value="#{specialSystemCustomer.value.name}"/>
                                </p:column>
                            </p:dataTable>
                        </p:column>


                        <p:column>
                            <f:facet name="header">Receipt Customers</f:facet>
                            <p:dataTable value="#{mandatorController.receiptCustomers}" var="receiptCustomer" sortMode="multiple" >
                                <f:facet name="header">
                                    Single Column Sort
                                </f:facet>
                                <p:column headerText="Customer ID" sortBy="#{receiptCustomer.value}">
                                    <h:outputText value="#{receiptCustomer.value}"/>

                                </p:column>
                                <p:column headerText="Contractor" sortBy="#{receiptCustomer.key.contractor}">
                                    <h:outputText value="#{receiptCustomer.key.contractor}" />
                                </p:column>

                                <p:column headerText="ReceiptOperation" sortBy="#{receiptCustomer.key.operation}">
                                    <h:outputText value="#{receiptCustomer.key.operation}"/>
                                </p:column>
                            </p:dataTable>
                        </p:column>
                    </p:row>





                </p:panelGrid>





            </h:form>
        </h:body>

    </f:view>
</html>