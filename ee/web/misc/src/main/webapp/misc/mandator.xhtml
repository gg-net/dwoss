<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">
        <h:head>
            <title>Mandator - #{mandatorsBean.loadMandator().company.name}</title>
            <style>
                table, th, td {
                    border: 1px solid black;
                    border-collapse: collapse;
                }
            </style>
        </h:head>

        <h:body>
            <h1>Mandator - #{mandatorController.mandator.loadMandator().company.name}</h1>
            <h:outputText escape="false" value="#{mandatorController.mandator.loadMandator().toHtml()}" />
            <h2>Additional MandatorInfo </h2>
            <p:dataList value="#{mandatorController.getAllContractors()}" var="contractor" emptyMessage="No contractors found">
                <f:facet name="header">
                    All our Contractors
                </f:facet>
                #{contractor.getName()}
            </p:dataList>
            <p:dataList value="#{mandatorController.getAllowedBrands()}" var="contractor">
                <f:facet name="header">
                    Allowed Brands
                </f:facet>
                #{contractor.getName()}
            </p:dataList>

            <h3>Shipping Terms</h3>
            <p:dataTable value="#{mandatorController.getShippingConditionValues()}" var="shippingCondition"  sortBy="#{shippingCondition.priceOfOne}" sortOrder="ascending">
                <p:column headerText="Note">
                    <h:outputText value="#{shippingCondition.note}"/>
                </p:column>

                <p:column headerText="Price of One">
                    <h:outputText value="#{shippingCondition.priceOfOne}"/>
                </p:column>

                <p:column headerText="Multiplicator">
                    <h:outputText value="#{shippingCondition.multiplicator}"/>
                </p:column>
            </p:dataTable>
            <h3>Post Ledger</h3>
            <p:tree value="#{mandatorController.root}" var="node" >
                <p:treeNode >
                    <h:outputText value="#{node}" />
                </p:treeNode>
            </p:tree>
            <h3>Special System Customers</h3>

            <p:dataTable value="#{mandatorController.specialSystemCustomers}" var="specialSystemCustomer" >
                <p:column headerText="Customer ID" >
                    <h:outputText value="#{specialSystemCustomer.key}"/>
                </p:column>
                <p:column headerText="DocumentType">
                    <h:outputText value="#{specialSystemCustomer.value.name}"/>
                </p:column>
            </p:dataTable>

            <h3>Receipt Customers</h3>
            <p:dataTable value="#{mandatorController.receiptCustomers}" var="receiptCustomer" sortBy="#{receiptCustomer.value}" sortOrder="ASCENDING">
                <f:facet name="header">
                    Single Column Sort
                </f:facet>
                <p:column headerText="Customer ID" >
                    <h:outputText value="#{receiptCustomer.value}"/>

                </p:column>
                <p:column headerText="Contractor" >
                    <h:outputText value="#{receiptCustomer.key.contractor}" />
                </p:column>

                <p:column headerText="ReceiptOperation">
                    <h:outputText value="#{receiptCustomer.key.operation}"/>
                </p:column>
            </p:dataTable>




        </h:body>

    </f:view>
</html>